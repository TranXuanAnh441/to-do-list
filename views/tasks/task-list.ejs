<%- include('../includes/head.ejs') %>
<link rel="stylesheet" href="/css/task.css"/>
</head>

<body>
    <%- include('../includes/navigation.ejs') %>
    <h2>Tasks List</h2>
    <main>
        <select name="display" id="display" onchange="javascript:handleSelect(this)">
            <option value="/">DISPLAY MODE</option>
            <option value="/?display=status">STATUS</option>
            <option value="/?display=deadline">DEADLINE</option>
        </select>
        <% if (tasks.length > 0) { %>
            <div>
                <%- include(displayTemplate) %>
            </div>
        <% } else {%>
             <p>No Tasks Found !</p>
        <% } %>

    </main>

    <script type="text/javascript">
        const handleSelect = (elm) => {
           window.location = elm.value;
        }
    </script>

<%- include('../includes/end.ejs') %>

