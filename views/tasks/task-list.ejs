<%- include('../includes/head.ejs') %>
<link rel="stylesheet" href="/css/task.css"/>
</head>

<body>
    <%- include('../includes/navigation.ejs') %>
    <h2>Tasks List</h2>
    <main>
        <select name="display" id="display" onchange="javascript:handleSelect(this)">
            <option value="/" <%= displayMode === "" ? 'selected' : '' %>>CREATED AT</option>
            <option value="/?display=status" <%= displayMode === "status" ? 'selected' : '' %>>STATUS</option>
            <option value="/?display=deadline" <%= displayMode === "deadline" ? 'selected' : '' %>>DEADLINE</option>
            <option value="/?display=category" <%= displayMode === "category" ? 'selected' : '' %>>CATEGORY</option>
        </select>
        <div>
            <%- include(displayTemplate) %>
        </div>
    </main>

    <script type="text/javascript">
        const handleSelect = (elm) => {
           window.location = elm.value;
        }
    </script>

<%- include('../includes/end.ejs') %>

